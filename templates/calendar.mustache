<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{year}} Calendar</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      @page {
        size: A4 portrait;
        margin: 0;
      }

      body {
        font-size: {{day_font_size_pt}}pt;
      }

      .month-name {
        font-size: {{month_font_size_pt}}pt;
        margin-bottom: {{notes_space_mm}}mm;
      }

      .page {
        --holiday-flex: 1.30;
        --day-gap: 0.5ch;
        --day-number-width: 2ch;
        --weekday-width: 2ch;
        width: 210mm;
        height: 297mm;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .half {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 0;
        min-height: 0;
      }

      .month {
        display: flex;
        flex-direction: column;
        min-height: 0;
      }

      .day {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 0;
        min-height: 0;
      }

      .day.has-holiday {
        flex: var(--holiday-flex);
      }

      .day-container {
        display: flex;
        justify-content: space-between;
      }

      .day-label {
        white-space: nowrap;
        flex-shrink: 0;
        display: flex;
        gap: var(--day-gap);
      }

      .day-number {
        min-width: var(--day-number-width);
        text-align: right;
      }

      .weekday {
        min-width: var(--weekday-width);
      }

      {{{theme_css}}}
    </style>
  </head>
  <body>
    <div class="page">
      <div class="header">{{year}}</div>
      {{#halves}}
      <div class="half">
        {{#months}}
        <div class="month">
          <div class="month-name">{{name}}</div>
          {{#days}}
          <div class="day {{#is_weekend}}is-weekend {{/is_weekend}}{{#is_holiday}}is-holiday {{/is_holiday}}{{#is_week_start}}is-week-start {{/is_week_start}}{{#is_month_start}}is-month-start {{/is_month_start}}{{#is_last_day}}is-last-day {{/is_last_day}}{{#holiday_name}}has-holiday{{/holiday_name}}">
            <div class="day-container">
              <span class="day-label">
                <span class="day-number">{{day_number}}</span>
                <span class="weekday">{{weekday}}</span>
              </span>
              {{#is_week_start}}<span class="week-number">{{week_number}}</span>{{/is_week_start}}
            </div>
            {{#holiday_name}}<span class="holiday-name">{{holiday_name}}</span>{{/holiday_name}}
          </div>
          {{/days}}
        </div>
        {{/months}}
      </div>
      {{/halves}}
    </div>
  </body>
</html>
