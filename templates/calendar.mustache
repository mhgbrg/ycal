<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{year}} Calendar</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      @page {
        size: A4 portrait;
        margin: 0;
      }

      .page {
        width: 210mm;
        height: 297mm;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .half {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 0;
        min-height: 0;
      }

      .month {
        display: flex;
        flex-direction: column;
        min-height: 0;
      }

      .month > div:not(.month-name) {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 0;
        min-height: 0;
      }

      .month > div.has-holiday {
        flex: 1.30;
      }

      .day-container {
        display: flex;
        justify-content: space-between;
      }

      .day-label {
        white-space: nowrap;
        flex-shrink: 0;
        display: flex;
        gap: 0.5ch;
      }

      .day-number {
        min-width: 2ch;
        text-align: right;
      }

      .weekday {
        min-width: 2ch;
      }

      {{{theme_css}}}
    </style>
  </head>
  <body>
    <div class="page">
      <div class="header">{{year}}</div>
      {{#halves}}
      <div class="half">
        {{#months}}
        <div class="month">
          <div class="month-name">{{name}}</div>
          {{#days}}
          <div{{#css_class}} class="{{css_class}}"{{/css_class}}>
            <div class="day-container">
              <span class="day-label">
                <span class="day-number">{{day_number}}</span>
                <span class="weekday">{{weekday}}</span>
              </span>
              {{#is_week_start}}<span class="week-number">{{week_number}}</span>{{/is_week_start}}
            </div>
            {{#holiday_name}}<span class="holiday-name">{{holiday_name}}</span>{{/holiday_name}}
          </div>
          {{/days}}
        </div>
        {{/months}}
      </div>
      {{/halves}}
    </div>
  </body>
</html>
